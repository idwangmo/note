---
title: 轻量级微服务架构
sidebar: auto
---

## 微服务基本概念

传统架构存在的问题：

* 系统资源浪费
* 部署效率太低
* 技术选型单一

微服务的要求：

* 根据业务模块划分服务种类
* 每个服务可独立部署且相互隔离
* 通过轻量级 API 调用服务
* 服务需要保证良好的高可用性

微服务架构的特点：

1. 微小粒度
2. 职责单一性
3. 运行性隔离
4. 管理自动化

微服务架构的挑战：

1. 运维要求较高
2. 分布式的复杂性
3. 部署依赖较强
4. 通信成本较高

## Spring boot

### Spring boot 的应用场景

1. 传统的 Web MVC 架构
2. 前后端分离架构
3. 微服务架构

### Spring boot 提供的生产级特性

1. 端点
2. 健康检查
3. 应用基本信息
4. 跨域——添加`@CrossOrigin`注解
5. 外部配置
6. 远程监控

## 网关

由于`Node.js`采用的是单线程模型，不适合做`CPU`密集型，因此适合开发`I/O`密集型，
充分利用了事件驱动与异步非阻塞技术，嗯哪个支持大量的并发连接，从而提高了整个系统
的吞吐率

### 反向代理的应用场景

1. 使静态资源与动态资源分离
2. 实现 AJAX 跨域访问
3. 搭建统一网关接口

## ZooKeeper

`ZooKeeper`目标就是将那些复杂切容易出错的分布式一致性架构加以封装，构成一个高效
且可靠的服务，并为用户提供一系列简单易用的接口

### ZooKeeper的五大特性

1. 顺序性
2. 原子性
3. 单一性
4. 可靠性
5. 实时性

Zab 协议分为两个阶段

* Leader Election
* Atomic Broadcast

只要集群中存在超过半数以上的节点可以正常工作，那么整个集群就能够正常对外提供服务

## Docker

### Docker的四大特性

1. 快速运行
2. 节省资源
3. 便于交付
4. 容易管理
