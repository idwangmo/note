## Vue.JS实战

## 第二章

Vue.js最核心的功能：数据的双向绑定

在每个Vue实例创建时，都会经历一系列的初始化过程，同时也会调用相应的生命周期钩子

Vue的生命周期比较常见的有：

- `created`: 实例创建完成之后调用，此阶段完成了数据的观测等，但尚未挂载，`$el`还不可用
- `mounted`: el挂载到实例上后调用
- `beforeDestroy`: 实例销毁之前调用

如果将用户产生的内容使用`v-html`输出后，有可能导致XSS攻击，所以要在服务端对用户提交的内容进行处理，一般可将尖括号“<>”转义

Vue.js只支持单个表达式，不支持语句和控制流

Vue.js支持在`{{}}`插值的尾部添加一个管道符`|`对数据进行过滤

数据驱动DOM时Vue.js的核心理念，所以不到万不得已时不要主动操作DOM，只需要维护好数据

`v-bind`可以缩写成`:`，`v-on`可以直接用`@`来缩写

## 第三章

在一个计算属性里可以完成各种复杂的逻辑，包括运算、函数调用等，只要最终返回一个结果就可以。

没一个计算属性都包含了一个`getter`和一个`setter`，当需要时，也可以提供一个`setter`函数，当手动修改计算属性的值就像修改一个普通数据那样时，就会触发`setter`函数，执行一些自定义的操作。绝大读书情况下，我们之后用默认的`getter`方法来读取一个计算属性，所以可以直接使用默认写法。

计算属性小技巧：

1. 计算属性可以以来其他计算属性
2. 计算属性不仅可以依赖当前Vue的实例数据，还可以依赖其他实例的数据

计算属性是基于它的依赖缓存的，一个计算属性所依赖的数据发生变化时，它才会重新取值

使用计算属性还是`methods`取决于是否需要缓存，当遍历大数组和大量计算时，应当使用计算属性，除非不希望得到缓存

## 第四章

`:class`等同于`v-bind:class`，其内的表达式每项为真时，对应的类名就会加载。当`:class`表达式过长或逻辑过于复杂时，还可以绑定一个计算属性，也可以直接绑定一个`Object`类型的数据，或者使用类似计算属性的methods

在开发过程中，如果表达式较长或者逻辑复杂，应该尽可能地优先使用计算属性

使用`v-bind:style`可以给元素绑定内联样式，使用`:style`时，Vue.js会自动给特殊的CSS属性名称增加前缀

## 第五章

在一般情况下`v-cloak`是一个解决初始化慢导致页面闪动的最佳实践，对于简单的项目很实用

`v-once`也是一个不需要表达式的指令，作用是定义它的元素或组建只渲染一次，包括元素或组件的所有子节点。首次渲染后，不再随数据的变化重新渲染，将被视为静态内容。

`v-show`是改变元素的CSS属性display，其只是简单的CSS属性切换，无聊条件真与否，都会被编译，`v-if`条件更适合不经常改变的场景，因为它切换开销相对较大

在HTML元素上监听事件的设计看似将DOM与JavaScript紧耦合，违背分离的原理，实际上通过HTML就可以知道调用的是哪个方法，将逻辑与DOM解耦，便于维护。最重要的是，当ViewModel销毁时，所有的事件处理都会自动删除，无须自己清理。

Vue提供了一个特殊的变量`$event`，用于访问原生DOM事件。

在'@'绑定的事件后加小圆点`.`再跟一个后缀来使用修饰符

- `.stop`
- `.prevent`:提交的事件不再重载页面
- `.capture`添加事件侦听器时使用事件捕获模式
- `.self`只当事件再该元素本身触发时触发回掉
- `.once`只触发一次