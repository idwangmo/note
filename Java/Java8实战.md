# 一 为什么使用Java8

在Java 8中加入 Streams 可以看作把另外两项扩充加入Java 8的直接原因：把代码传递给方法的简洁方式（方法引用、Lambda）和接口中的默认方法

在与硬件无关的内存模型里，多核处理器上的并发线程可能比在单核处理器上出现的意外行为更多

## 流处理

流是一系列数据项，一次只生成一项。程序可以从输入流中一个一个读取数据项，然后以同样的方式将数据项写入输出流。一个程序的输出流很可能是另一个程序的输入流。

` Stream<T>` 就是一系列 T 类型的项目。

语言需要不断改进以跟进硬件的更新或满足程序员的期待

## Java中的函数

我们都知道软件工程中复制粘贴的危险——给一个做了更新和修正，却忘了另一个。

## 流

通过多线程代码来利用并行（使用先前Java版本中的Thread API）并非易事。

线程可能会同时访问并更新共享变量。因此，如果没有协调好，数据可能会被意外改变。

Collection主要是为了存储和访问数据，而Stream则主要用于描述对数据的计算。

## 默认方法

使用default进行修饰

以下是你应从本章中学到的关键概念。

* 请记住语言生态系统的思想，以及语言面临的“要么改变，要么衰亡”的压力。虽然Java可能现在非常有活力，但你可以回忆一下其他曾经也有活力但未能及时改进的语言的命运，如COBOL。
* Java 8中新增的核心内容提供了令人激动的新概念和功能，方便我们编写既有效又简洁的程序。
* 现有的Java编程实践并不能很好地利用多核处理器。
* 函数是一等值；记得方法如何作为函数式值来传递，还有Lambda是怎样写的。
* Java 8中 Streams 的概念使得 Collections 的许多方面得以推广，让代码更为易读，并允许并行处理流元素。
* 你可以在接口中使用默认方法，在实现类没有实现方法时提供方法内容。
* 其他来自函数式编程的有趣思想，包括处理 null 和使用模式匹配。

# 二 通过行为参数化传递代码

行为参数化就是可以帮助你处理频繁变更的需求的一种软件开发模式。一言以蔽之，它意味着拿出一个代码块，把它准备好却不去执行它。

行为参数化：

1. 传递代码行为
2. 多种行为，一个参数

匿名内部类的坏处：

1. 往往很笨重，因为它占用了很多空间
2. 难以让人理解

![行为参数化与值参数化](../Image/Java8实战/行为参数化与值参数化.jpg)

小结：

* 行为参数化，就是一个方法接受多个不同的行为作为参数，并在内部使用它们，完成不同行为的能力。
* 行为参数化可让代码更好地适应不断变化的要求，减轻未来的工作量。
* 传递代码，就是将新行为作为参数传递给方法。但在Java 8之前这实现起来很啰嗦。为接口声明许多只用一次的实体类而造成的啰嗦代码，在Java 8之前可以用匿名类来减少。
* Java API包含很多可以用不同行为进行参数化的方法，包括排序、线程和GUI处理