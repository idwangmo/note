---
title: Haskell 入门指南
---

## Chapter 1

### GHCi

-   `:load`，简写`:l`，用来导入当前路径或指定路径下的文件
-   `:reload`，简写`:r`，用来重新导入当前的源代码文件- `:cd`改变当前 GHCi 的路径
-   `:edit`用默认的文本编辑器编辑当前导入的文
-   `:module`导入一个库，简写为`:m`
-   `:!`可以在 GHCi 中执行一些操作系统的命令
-   `:quit` 退出 GHCi
-   `:?` 可以让 GHCi 输出帮助信息

### 源代码文件

`.lhs`（Literate Haskell Script）文件是为了能让 Haskell 的代码生成精美的 pdf 文档

`.hs`文件里全局的函数要起头写，不可以有其他字符；单行的注释用两个减号`--`开头，多行注释用`{-`开头，以`-}`结尾

有时需要对 GHC 与 GHCi 声明一些语言扩展与编译器选项或参数，此时需要在文件首处给出声明，并且以`{-#`开头，用`#-}`结尾

## Chapter 2

### 常用数据类型

1. 布尔类型：`Bool`，只有`True`和`False`两个值，`&&`表示“逻辑与”运算，`||`表示“逻辑或”运算，`not`表示“逻辑非”运算
2. 字符型：`Char`，由单引号包裹的单个字符都是，支持`ASCII`，但是不支持八进制字符转义
3. 有符号整数：`Int`，范围和操作系统已经 GHC 的位数有关
4. 无符号整数：`Word`
5. 任意精度整数：`Integer`，其限制因素是计算机内存，在对性能要求较高的情况下慎用
6. 小数与有理整数类型：单精度浮点数`Float`、双精度浮点数`Double`，有理整数类型
7. 字符类型：`String`
8. 元组类型

### 函数类型

非柯里化函数：当函数有多个参数时，必须通过元组一次性传入，然后返回结果

柯里化函数：当函数有多个参数时，参数可以一个一个地依次输入，如果参数不足，将返回一个函数作为结果

多态函数：一个函数的某个参数可以是任何类型，那么这个函数就是多态函数

重载类型函数：一个名字的函数可以根据类型或者参数数量的不同有不同的实现，但是`Haskell`中的重载函数是针对不同的函数参数进行重载，而没有根据参数数量进行重载

重载的字面值（overloaded literals）：可以有着多种类型的字面值称为重载的字面值，即一个字面值可以有多种类型。

类型系统的三个有点：

1. 错误检查
2. 对于程序的抽象
3. 文档作用

### 类类型

-   相等类型类：`Eq`
-   有序类型类：`Ord`，一个有序类型一定为一个可比较相等的类型
-   枚举类型类：`Enum`
-   有界类型类：`Bounded`
-   数类类型类：`Num`

### 函数

对于某一个特定的输入返回的结果总是确定的，这样的函数为纯函数

当给定第一个参数应用于一个$n$元函数，返回的结果是一个$n-1$元函
数。

求导数的过程实际上就是给定一个函数得一个新函数的过程。求一个函数的导数，实际上就是以一个函数作为参数输入，然后返回一个函数作为结果的函数，这种函数称为高阶函数

#### 函数的定义：

```haskell
函数名::参数1的类型 -> 参数2的类型 -> ... -> 结果类型
函数名 参数1 参数2 .. = 函数体
```

当有多个类型类限定在一个类型上的时候，它们需要用括号写在一起，并且中间要用逗号隔开，或者像柯里化那样使用`=>`依次连接

#### $\lambda$表达式

```haskell
函数名 :: 参数 1 的类型 -> 参数 2 的类型 -> ... 结果的类型
函数名 = \参数 1 -> \参数 2 -> ... -> 函数体
```

$\alpha$替换（α-conversion）所指的是在不出现命名冲突的前提下可以将函数的参数重新命名

$$
\lambda x \rightarrow \lambda y \rightarrow x + y \equiv_{\alpha} \lambda_{\alpha} \rightarrow \lambda y \rightarrow \alpha + y
$$

$\beta$化简（β-reduction）则指的是参数到函数体的替换

$$
\left( \lambda x \rightarrow M \right) N \rightarrow_{\beta} \left[ \frac{N}{x} \right] M
$$

$\eta$化简（η-reduction 也译为$\eta$归约）可以用来消去那些冗余的$\lambda$表达。在定义函数时，可以将一个参数传给函数 M，进行计算的函数和 M 本身是同一个函数：

$$
\left( \lambda x \rightarrow Mx \right) \rightarrow_{\eta} M
$$

$\lambda$表达式的用处：

1. 构造一个没有函数名字的匿名函数

2. 对于柯里化函数，在不给定前一个参数的前提下给定后一个

使用`let...in..`绑定要注意命名捕获

### 表达式

-   条件表达式

-   情形分析表达式

-   守卫表达式（guarded expression)

-   模式匹配

### 运算符

**在 Haskell 中函数和运算符是等价的**

运算符有三种属性：

-   优先级

-   结合性

-   位置

## Chapter 3
