<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Python Web 编程实战 | 墨语笔记补完</title>
    <meta name="generator" content="VuePress 1.5.3">
    
    <meta name="description" content="日常读书笔记、每日的文章阅读重要部分注记录">
    <meta property="article:modified_time" content="2019-08-22T05:56:36.000Z">
    <meta property="og:site_name" content="墨语笔记补完">
    <meta property="og:title" content="Python Web 编程实战">
    <meta property="og:type" content="website">
    <meta property="og:url" content="/python/python_web.html">
    <meta name="twitter:title" content="Python Web 编程实战">
    <meta name="twitter:url" content="/python/python_web.html">
    <meta name="twitter:card" content="summary_large_image">
    <link rel="preload" href="/assets/css/0.styles.36294c82.css" as="style"><link rel="preload" href="/assets/js/app.cccfd8e7.js" as="script"><link rel="preload" href="/assets/js/2.9de5c6c1.js" as="script"><link rel="preload" href="/assets/js/37.df0319c9.js" as="script"><link rel="prefetch" href="/assets/js/10.d6241704.js"><link rel="prefetch" href="/assets/js/11.67fb7f7f.js"><link rel="prefetch" href="/assets/js/12.e5c25b76.js"><link rel="prefetch" href="/assets/js/13.1ba667dd.js"><link rel="prefetch" href="/assets/js/14.cf11d9fa.js"><link rel="prefetch" href="/assets/js/15.4956305a.js"><link rel="prefetch" href="/assets/js/16.2c48f3c9.js"><link rel="prefetch" href="/assets/js/17.478a5e4c.js"><link rel="prefetch" href="/assets/js/18.f6c443cd.js"><link rel="prefetch" href="/assets/js/19.782e6682.js"><link rel="prefetch" href="/assets/js/20.9497fcb7.js"><link rel="prefetch" href="/assets/js/21.14aafb81.js"><link rel="prefetch" href="/assets/js/22.2668548e.js"><link rel="prefetch" href="/assets/js/23.e18d4f59.js"><link rel="prefetch" href="/assets/js/24.0494627e.js"><link rel="prefetch" href="/assets/js/25.e6d2f928.js"><link rel="prefetch" href="/assets/js/26.5b3e12f5.js"><link rel="prefetch" href="/assets/js/27.2ea04455.js"><link rel="prefetch" href="/assets/js/28.f54943d4.js"><link rel="prefetch" href="/assets/js/29.0d21d124.js"><link rel="prefetch" href="/assets/js/3.7c1461c0.js"><link rel="prefetch" href="/assets/js/30.51e7e3da.js"><link rel="prefetch" href="/assets/js/31.b6fd8416.js"><link rel="prefetch" href="/assets/js/32.288e3649.js"><link rel="prefetch" href="/assets/js/33.2fed9cff.js"><link rel="prefetch" href="/assets/js/34.4c6a8953.js"><link rel="prefetch" href="/assets/js/35.64749222.js"><link rel="prefetch" href="/assets/js/36.d523088c.js"><link rel="prefetch" href="/assets/js/38.1281fec2.js"><link rel="prefetch" href="/assets/js/39.090c1406.js"><link rel="prefetch" href="/assets/js/4.a7183ff4.js"><link rel="prefetch" href="/assets/js/40.54ef8cf7.js"><link rel="prefetch" href="/assets/js/41.36e152bb.js"><link rel="prefetch" href="/assets/js/42.7c813979.js"><link rel="prefetch" href="/assets/js/43.6b73d645.js"><link rel="prefetch" href="/assets/js/44.0f59db0e.js"><link rel="prefetch" href="/assets/js/45.2a5cf763.js"><link rel="prefetch" href="/assets/js/46.6d860222.js"><link rel="prefetch" href="/assets/js/47.c5dc6374.js"><link rel="prefetch" href="/assets/js/48.22502cc5.js"><link rel="prefetch" href="/assets/js/49.446fdcce.js"><link rel="prefetch" href="/assets/js/5.86c48d13.js"><link rel="prefetch" href="/assets/js/50.505b1863.js"><link rel="prefetch" href="/assets/js/6.dd5bb6a5.js"><link rel="prefetch" href="/assets/js/7.b915e335.js"><link rel="prefetch" href="/assets/js/8.340fe880.js"><link rel="prefetch" href="/assets/js/9.b4c5caee.js">
    <link rel="stylesheet" href="/assets/css/0.styles.36294c82.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">墨语笔记补完</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://www.idwangmo.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  墨语的后花园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/idwangmo/note" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://www.idwangmo.top" target="_blank" rel="noopener noreferrer" class="nav-link external">
  墨语的后花园
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <a href="https://github.com/idwangmo/note" target="_blank" rel="noopener noreferrer" class="repo-link">
    Github
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Python Web 编程实战</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/python/python_web.html#第二章" class="sidebar-link">第二章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第五章" class="sidebar-link">第五章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第九章" class="sidebar-link">第九章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第十一章" class="sidebar-link">第十一章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第十二章" class="sidebar-link">第十二章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第十三章" class="sidebar-link">第十三章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第十四章" class="sidebar-link">第十四章</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/python/python_web.html#第十五章" class="sidebar-link">第十五章</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="第二章"><a href="#第二章" class="header-anchor">#</a> 第二章</h2> <p>Flask 的配置管理：</p> <ol><li>通过配置文件加载</li> <li>通过文件名字加载</li> <li>通过环境变量加载</li></ol> <p>不要直接在模板中写死静态文件路径，应该使用<code>url_for</code>生成路径</p> <p>模板继承中首先使用 base 中的 head 标签内的内容，再基于此样式添加 CSS 样式</p> <p>Jinja2 认为应该尽可能把逻辑从模板中移除，界限清晰，不允许在模板中写 Python 代码，
而 Mako 最后会编译称 Python 代码以达到最优</p> <p>模型实例对象本身独立存在，如果要让其修改生效，需要把它们加入某个会话</p> <h2 id="第五章"><a href="#第五章" class="header-anchor">#</a> 第五章</h2> <p>REST 架构风格最重要的架构约束：</p> <ol><li>客户端 - 服务器端</li> <li>无状态</li> <li>缓存</li> <li>统一接口</li> <li>分层应用</li></ol> <h2 id="第九章"><a href="#第九章" class="header-anchor">#</a> 第九章</h2> <p>使用消息队列的好处：</p> <ol><li>应用解耦</li> <li>异步通信</li> <li>数据持久化</li> <li>送达保证</li></ol> <p>消息：消息实际包含两部分内容：</p> <ol><li>有效载荷（payload）</li> <li>标签</li></ol> <p>RabbitMQ 的四种交换机制：</p> <ol><li>直连交换机</li> <li>主题交换机</li> <li>扇型交换机</li> <li>头交换机</li></ol> <h2 id="第十一章"><a href="#第十一章" class="header-anchor">#</a> 第十一章</h2> <p>Pandas 包含三种数据结构：</p> <ol><li>Series：一维数组</li> <li>DataFrame：二维的表格型数据结构</li> <li>Panel：三维的数组</li></ol> <h2 id="第十二章"><a href="#第十二章" class="header-anchor">#</a> 第十二章</h2> <p>可以使用<code>ipdb</code>进行 debug 操作，当在开发复杂程序中发现问题，可以在代码中插入
<code>set_tract()</code>进行诊断，当调试器退出时，调试器会自动恢复程序的执行</p> <p>性能调优的入手方面：</p> <ol><li>优化程序算法本身</li> <li>优化运行环境和资源</li> <li>优化系统架构</li></ol> <h2 id="第十三章"><a href="#第十三章" class="header-anchor">#</a> 第十三章</h2> <p>让爬虫抓取顺利的几件事情：</p> <ol><li>使用代理</li> <li>伪造 UA 字符串</li> <li>选择解析 HTML 的方式</li> <li>使用 Refer</li></ol> <p>使用<code>fake-useragent</code>实现随机生成 UA：</p> <div class="language-bash line-numbers-mode"><pre class="language-bash"><code><span class="token comment"># 安装，在使用的时候可能需要将提供的 UA 缓存下来</span>
pip <span class="token function">install</span> --user fake-useragent
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><div class="language-python line-numbers-mode"><pre class="language-python"><code><span class="token comment"># 使用</span>
<span class="token keyword">from</span> fake_useragent <span class="token keyword">import</span> UserAgent

ua <span class="token operator">=</span> UserAgent<span class="token punctuation">(</span><span class="token punctuation">)</span>
ua<span class="token punctuation">.</span>random
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="第十四章"><a href="#第十四章" class="header-anchor">#</a> 第十四章</h2> <p>标准库模块：</p> <ol><li>errno 精确使用对应的错误类型，更精确地做异常处理</li> <li>subprocess 取代一些系统操作的函数</li> <li>contextlib 实现上下文管理</li> <li>glob 用来匹配 UNIX 风格的路径名字的模块</li> <li>operator 是一个内建的函数式接口</li> <li>functools 模块中包含了一系列操作其他函数的工具</li> <li>collections 模块包含了 5 个高性能的数据类型：
<code>Conter</code>、<code>deque</code>、<code>defaultdict</code>、<code>OrderedDict</code>、<code>namedtuple</code></li></ol> <p>数据检查有 EAFP 和 LBYL 两种编程风格：</p> <ol><li>LBYL：Lock Before You Leap，即事先检查，通过使用 if 语句把错误输入转化成合理的用法或者返回错误信息</li> <li>EAFP： Easier to Ask Forgiveness than Permission，即不检查，出了问题由异常处理来处理</li></ol> <h2 id="第十五章"><a href="#第十五章" class="header-anchor">#</a> 第十五章</h2> <p>开发中的一些经验：</p> <ol><li>确定需求后再做</li> <li>先验证那些可能实现不了的想法</li> <li>优先级管理</li> <li>及时反馈</li> <li>合理的项目人员配比</li> <li>尽量不要发太大的 PR</li></ol> <p>保持合理的项目结构</p> <ol><li>层次不可太深</li> <li>层次也不能太平</li> <li>善用蓝图</li> <li>在业务发展的过程中不间断的进行代码重构工作</li></ol></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">上次修改:</span> <span class="time">8/22/2019, 1:56:36 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/" class="prev router-link-active">
        日志
      </a></span> <span class="next"><a href="/python/flask-web.html">
        Flask Web 开发
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.cccfd8e7.js" defer></script><script src="/assets/js/2.9de5c6c1.js" defer></script><script src="/assets/js/37.df0319c9.js" defer></script>
  </body>
</html>
