# 图解HTTP

## 第一章

三项WWW的构建技术：

1. SGML(StandardGeneralized Markup Language,标准通用标记语言)作为页面的文本标记语言的HTML
2. 作为文档传递协议的 HTTP
3. 指定文档所在地址的 URL

TCP/IP协议族按层次分别为以下四层：应用层、传输层、网络层和数据链路层

IP网际协议位于网络层，其中两个重要的条件就是IP地址和MAC地址

## 第二章

HTTP 协议规定,请求从客户端发出,最后服务器端响应该请求并返回。

响应报文基本上由协议版本、状态码(表示请求成功或失败的数字代码)、用以解释状态码的原因短语、可选的响应首部字段以及实体主体构成

TRACE方法是让Web服务器将之前的请求通信环路回给客户端的方法

CONNECT 方法要求在与代理服务器通信时建立隧道,实现用隧道协议进行 TCP 通信，`CONNECT 代理服务器名:端口号 HTTP版本`

HTTP 协议的初始版本中,每进行一次 HTTP 通信就要断开一次 TCP连接。

持久连接的好处在于减少了 TCP 连接的重复建立和断开所造成的额外开销,减轻了服务器端的负载。

Cookie 会根据从服务器端发送的响应报文内的一个叫做 Set-Cookie 的首部字段信息,通知客户端保存 Cookie。

## 第三章

一般有 4 种首部,分别是:通用首部、请求首部、响应首部和实体首部。

分块传输编码会将实体主体分成多个部分(块)。每一块都会用十六进制来标记块的大小,而实体主体的最后一块会使用“0(CR+LF)”来标记。

在 HTTP 报文中使用多部分对象集合时,需要在首部字段里加上Content-type。

内容协商机制是指客户端和服务器端就响应的资源内容进行交涉,然后提供给客户端最为适合的资源。

网关能使通信线路上的服务器提供非 HTTP 协议服务，利用网关能提高通信的安全性,因为可以在客户端与网关之间的通信线路上加密以确保连接的安全。

当服务器返回的响应中包含 max-age 指令时,缓存服务器将不对资源的有效性再作确认,而 max-age 数值代表资源保存为缓存的最长时间。

## 第六章

HTTP首部字段构成：`首部字段名：字段值`

HTTP字段根据实际用途分为：

1. 通用首部字段
2. 请求首部字段
3. 响应首部字段
4. 实体首部字段

HTTP首部字段将定义成缓存代理和非缓存代理的行为，分为两种类型：

1. 端到端首部
2. 逐跳首部

no-cache 代表不缓存过期的资源,缓存会向源服务器进行有效期确认后处理资源，no-store 才是真正地不进行缓存

## 第七章

HTTP的主要不足：

1. 通信使用明文(不加密),内容可能会被窃听
2. 不验证通信方的身份,因此有可能遭遇伪装
3. 无法证明报文的完整性,所以有可能已遭篡改

加密对策：

1. 通信加密
2. 内容的加密

## 第八章

HTTP/1.1使用的认证方式：

1. BASIC认证（基本认证）
2. DIGEST认证（摘要认证）
3. SSL客户端认证
4. FormBase认证（基于表单的认证）

## 第九章

HTTP/2.0的主要技术：

1. 压缩
2. 多路复用
3. TSL义务化
4. 协商
5. 客户端来拽/服务端推送
6. 流量控制
7. WebSocket

## 第十一章

因输出值转义不完全引发的安全漏洞：

1. 跨站脚本攻击
2. SQL注入攻击
3. OS 命令注入攻击
4. HTTP 首部注入攻击
5. 邮件首部注入攻击
6. 目录遍历攻击
8. 远程文件包含漏洞

因会话管理疏忽引发的安全漏洞：

1. 会话劫持
2. 会话固定攻击
3. 跨站点请求伪造
